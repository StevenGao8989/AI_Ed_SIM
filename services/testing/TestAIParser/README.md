# PhysicsAIParserAICaller æµ‹è¯•å·¥å…·

è¿™ä¸ªç›®å½•åŒ…å«äº†ç”¨äºŽæµ‹è¯• `PhysicsAIParserAICaller` åŠŸèƒ½çš„æµ‹è¯•å·¥å…·ã€‚

## æ–‡ä»¶è¯´æ˜Ž

- `test_physics_ai_parser_caller.js` - ä¸»è¦æµ‹è¯•æ–‡ä»¶
- `README.md` - ä½¿ç”¨è¯´æ˜Žæ–‡æ¡£

## åŠŸèƒ½ç‰¹æ€§

### æµ‹è¯•åŠŸèƒ½
- âœ… åŸºç¡€AIè§£æžæµ‹è¯•
- âœ… åŽŸå­æ¨¡å—è§£æžæµ‹è¯•  
- âœ… å¤šé¢˜ç›®æ‰¹é‡æµ‹è¯•
- âœ… å•é¢˜ç›®è°ƒè¯•æµ‹è¯•
- âœ… æ€§èƒ½æµ‹è¯•å’Œç»Ÿè®¡
- âœ… ç»“æžœéªŒè¯å’Œé”™è¯¯æŠ¥å‘Š

### æµ‹è¯•é¢˜ç›®ç±»åž‹
- è¿åŠ¨å­¦é¢˜ç›®ï¼ˆç›´çº¿è¿åŠ¨ï¼‰
- åŠ¨åŠ›å­¦é¢˜ç›®ï¼ˆç‰›é¡¿å®šå¾‹ï¼‰
- åŠŸå’Œèƒ½é¢˜ç›®
- åœ†å‘¨è¿åŠ¨é¢˜ç›®
- ç”µå­¦é¢˜ç›®
- å¤åˆé¢˜ç›®ï¼ˆå¤šæ¨¡å—ç»„åˆï¼‰

## ä½¿ç”¨æ–¹æ³•

### 1. çŽ¯å¢ƒå‡†å¤‡

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ .env.local æ–‡ä»¶ï¼ˆæŽ¨èï¼‰

åœ¨ `services/testing/TestAIParser/` ç›®å½•ä¸‹åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
# è¿›å…¥æµ‹è¯•ç›®å½•
cd services/testing/TestAIParser

# åˆ›å»º .env.local æ–‡ä»¶
cat > .env.local << EOF
# DeepSeek API é…ç½®
DEEPSEEK_API_KEY=sk-your-actual-api-key-here

# å¯é€‰é…ç½®ï¼ˆä½¿ç”¨é»˜è®¤å€¼å¯çœç•¥ï¼‰
DEEPSEEK_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
DEEPSEEK_MODEL=deepseek-v3
DEEPSEEK_TEMPERATURE=0.1
DEEPSEEK_MAX_TOKENS=2000
DEEPSEEK_TIMEOUT=30000
EOF
```

#### æ–¹æ³•äºŒï¼šè®¾ç½®ç³»ç»ŸçŽ¯å¢ƒå˜é‡

```bash
export DEEPSEEK_API_KEY=your_api_key_here
```

æˆ–è€…ï¼š

```bash
export DEEPSEEK_KEY=your_api_key_here
```

### 2. è¿è¡Œå®Œæ•´æµ‹è¯•

```bash
# è¿›å…¥æµ‹è¯•ç›®å½•
cd services/testing/TestAIParser

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
node test_physics_ai_parser_caller.js
```

### 3. è¿è¡Œå•é¢˜ç›®æµ‹è¯•

```bash
# ä½¿ç”¨é»˜è®¤é¢˜ç›®
node test_physics_ai_parser_caller.js single

# ä½¿ç”¨è‡ªå®šä¹‰é¢˜ç›®
node test_physics_ai_parser_caller.js single "è´¨é‡ä¸º2kgçš„ç‰©ä½“ä»Ž10mé«˜å¤„è‡ªç”±è½ä¸‹ï¼Œæ±‚è½åœ°æ—¶çš„åŠ¨èƒ½å’Œé€Ÿåº¦ã€‚"
```

### 4. åœ¨ä»£ç ä¸­ä½¿ç”¨

```javascript
const { runTests, runSingleQuestionTest } = require('./test_physics_ai_parser_caller.js');

// è¿è¡Œå®Œæ•´æµ‹è¯•
const results = await runTests();

// è¿è¡Œå•é¢˜ç›®æµ‹è¯•
await runSingleQuestionTest("ä½ çš„ç‰©ç†é¢˜ç›®");
```

## æµ‹è¯•é…ç½®

æµ‹è¯•é…ç½®åœ¨ `TEST_CONFIG` å¯¹è±¡ä¸­ï¼š

```javascript
const TEST_CONFIG = {
  provider: 'deepseek',
  apiKey: process.env.DEEPSEEK_API_KEY || process.env.DEEPSEEK_KEY || '',
  baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',
  model: 'deepseek-v3',
  temperature: 0.1,
  maxTokens: 2000,
  timeout: 30000,
  retryCount: 2,
  retryDelay: 1000,
  enableLogging: true
};
```

## æµ‹è¯•é¢˜ç›®

æµ‹è¯•åŒ…å«ä»¥ä¸‹ç±»åž‹çš„ç‰©ç†é¢˜ç›®ï¼š

### ç®€å•é¢˜ç›®
- ç›´çº¿è¿åŠ¨å­¦
- ç›´æµç”µè·¯

### ä¸­ç­‰é¢˜ç›®  
- åŠ¨åŠ›å­¦
- åŠŸå’Œèƒ½
- åœ†å‘¨è¿åŠ¨

### å¤æ‚é¢˜ç›®
- å¤šæ¨¡å—ç»„åˆé¢˜ç›®ï¼ˆè¿åŠ¨å­¦+åŠ¨åŠ›å­¦+åŠŸå’Œèƒ½ï¼‰

## è¾“å‡ºè¯´æ˜Ž

### æµ‹è¯•è¿‡ç¨‹è¾“å‡º
```
ðŸš€ å¼€å§‹æµ‹è¯• PhysicsAIParserAICaller
============================================================

ðŸ§ª æµ‹è¯• kinematics_1 (easy): ä¸€è¾†æ±½è½¦ä»¥20m/sçš„é€Ÿåº¦åŒ€é€Ÿè¡Œé©¶ï¼Œç»è¿‡5ç§’åŽé€Ÿåº¦å˜ä¸º30m/s...
âœ… æµ‹è¯•é€šè¿‡ - åŸºç¡€è§£æž: 1250ms, æ¨¡å—è§£æž: 2100ms
```

### è¯¦ç»†ç»“æžœè¾“å‡º
```
ðŸ“Š è¯¦ç»†æµ‹è¯•ç»“æžœ:
================================================================================

ðŸ” æµ‹è¯• kinematics_1:
   é¢˜ç›®: ä¸€è¾†æ±½è½¦ä»¥20m/sçš„é€Ÿåº¦åŒ€é€Ÿè¡Œé©¶ï¼Œç»è¿‡5ç§’åŽé€Ÿåº¦å˜ä¸º30m/sï¼Œæ±‚æ±½è½¦çš„åŠ é€Ÿåº¦å’Œè¡Œé©¶çš„è·ç¦»ã€‚
   éš¾åº¦: easy
   çŠ¶æ€: âœ… é€šè¿‡
   åŸºç¡€è§£æžå‚æ•°æ•°é‡: 5
   åŸºç¡€è§£æžæ—¶é—´: 1250ms
   æ¨¡å—è§£æžå‚æ•°æ•°é‡: 7
   æ¨¡å—è§£æžæ—¶é—´: 2100ms
```

### ç»Ÿè®¡ä¿¡æ¯è¾“å‡º
```
ðŸ“ˆ æµ‹è¯•ç»Ÿè®¡:
==================================================
æ€»æµ‹è¯•æ•°: 6
é€šè¿‡æ•°: 5
å¤±è´¥æ•°: 1
æˆåŠŸçŽ‡: 83.3%
```

## éªŒè¯æ ‡å‡†

æµ‹è¯•ä¼šéªŒè¯ä»¥ä¸‹å†…å®¹ï¼š

1. **åŸºç¡€è§£æžéªŒè¯**
   - è¿”å›žç»“æžœæ ¼å¼æ­£ç¡®
   - ä¸»é¢˜ä¸º 'physics'
   - åŒ…å«å‚æ•°æ•°ç»„å’Œå•ä½æ•°ç»„

2. **æ¨¡å—è§£æžéªŒè¯**
   - åŒ…å«é¢„æœŸçš„ç‰©ç†å‚æ•°
   - å‚æ•°æ•°é‡åˆç†ï¼ˆâ‰¥3ä¸ªï¼‰
   - æ¨¡å—ç»„åˆæ­£ç¡®

3. **æ€§èƒ½éªŒè¯**
   - è§£æžæ—¶é—´åˆç†
   - æ— å¼‚å¸¸é”™è¯¯

## é”™è¯¯å¤„ç†

æµ‹è¯•åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†ï¼š

- API Key éªŒè¯
- ç½‘ç»œè¯·æ±‚é‡è¯•
- è§£æžç»“æžœéªŒè¯
- å¼‚å¸¸æ•èŽ·å’ŒæŠ¥å‘Š

## æ³¨æ„äº‹é¡¹

1. **API é™åˆ¶**: æµ‹è¯•é—´æœ‰1ç§’å»¶è¿Ÿé¿å…APIé™åˆ¶
2. **ç½‘ç»œä¾èµ–**: éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿žæŽ¥
3. **API Key**: å¿…é¡»è®¾ç½®æœ‰æ•ˆçš„ DeepSeek API Key
4. **è¶…æ—¶è®¾ç½®**: é»˜è®¤30ç§’è¶…æ—¶ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´

## æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **API Key æœªè®¾ç½®**
   ```
   âŒ é”™è¯¯: æœªè®¾ç½® DEEPSEEK_API_KEY çŽ¯å¢ƒå˜é‡
   ```
   è§£å†³ï¼šè®¾ç½®çŽ¯å¢ƒå˜é‡ `export DEEPSEEK_API_KEY=your_key`

2. **ç½‘ç»œè¶…æ—¶**
   ```
   âŒ æµ‹è¯•å¼‚å¸¸ - DeepSeek API é”™è¯¯: 408 Request Timeout
   ```
   è§£å†³ï¼šæ£€æŸ¥ç½‘ç»œè¿žæŽ¥ï¼Œæˆ–å¢žåŠ è¶…æ—¶æ—¶é—´

3. **è§£æžå¤±è´¥**
   ```
   âŒ æµ‹è¯•å¤±è´¥ - ç¼ºå°‘é¢„æœŸçš„ç‰©ç†å‚æ•°
   ```
   è§£å†³ï¼šæ£€æŸ¥é¢˜ç›®æ ¼å¼ï¼Œæˆ–è°ƒæ•´éªŒè¯æ ‡å‡†

### è°ƒè¯•å»ºè®®

1. ä½¿ç”¨å•é¢˜ç›®æµ‹è¯•æ¨¡å¼è°ƒè¯•ç‰¹å®šé¢˜ç›®
2. å¯ç”¨è¯¦ç»†æ—¥å¿—æŸ¥çœ‹è§£æžè¿‡ç¨‹
3. æ£€æŸ¥API Keyæƒé™å’Œé…é¢
4. éªŒè¯ç½‘ç»œè¿žæŽ¥å’Œé˜²ç«å¢™è®¾ç½®
